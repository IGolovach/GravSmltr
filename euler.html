<!DOCTYPE html>
<html lang="en"><head>
        <title>Integration by Example - Euler vs Verlet vs Runge-Kutta - Codeflow</title>
        <script type="text/javascript" src="main_files/compressed.js"></script>
        <script type="text/javascript" src="main_files/jquery.js"></script>
		<script type="text/javascript" src="main_files/helper.js"></script>
        <script type="text/javascript">
            $(function(){
                $('a.gallery').lightBox();
            });
			var updateFlag=0;
        </script>
        <script type="text/javascript">
        /* <![CDATA[ */
            (function() {
                var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
                
                s.type = 'text/javascript';
                s.async = true;
                s.src = 'http://api.flattr.com/js/0.5.0/load.js?mode=auto';
                
                t.parentNode.insertBefore(s, t);
            })();
        /* ]]> */
        </script>
		 
    </head>
    <body data-twttr-rendered="true">
	<form>
<font size="5" color="black" face="Arial">Position:</font>
	x <input type="number" id="position_x" value="70" min="-100" max="1000">
	y <input type="number" id="position_y" value="100" min="-100" max="1000">
<font size="5" color="black" face="Arial">Velocity:</font>
	x <input type="number" id="velocity_x" value="0" min="-100" max="1000" >
	y <input type="number" id="velocity_y" value="1" min="-100" max="1000" >
	<font size="5" color="black" face="Arial">Gposition:</font>
	x <input type="number" id="g_x" value="350" min="-100" max="1000" >
	y <input type="number" id="g_y" value="200" min="-100" max="1000" >
<font size="5" color="black" face="Arial">GForce:</font>
	F <input type="number" id="g_f" value="1500" min="-100" max="3000" >
<input type="button" onclick="updateData()" value="Отправить" />
		</form>
<canvas id="euler" width="800" height="800"></canvas>
<script> 
function updateData(){
position_x=parseInt($("#position_x").val());
position_y=parseInt($("#position_y").val());
velocity_x=parseInt($("#velocity_x").val());
velocity_y=parseInt($("#velocity_y").val());
g_x=parseInt($("#g_x").val());
g_y=parseInt($("#g_y").val());
g_f=parseInt($("#g_f").val());
updateFlag=1;
}
</script> 
<script>    
var position_x=parseInt($("#position_x").val());
var position_y=parseInt($("#position_y").val());
var velocity_x=parseInt($("#velocity_x").val());
var velocity_y=parseInt($("#velocity_y").val());
var g_x=parseInt($("#g_x").val());
var g_y=parseInt($("#g_y").val());
var g_f=parseInt($("#g_f").val());
new OneBody('euler', {
        body: {
            position: new Vec(position_x, position_y),
            velocity: new Vec(velocity_x, velocity_y),
			    gposition: new Vec(g_x, g_y),
				  gforce: g_f
				  },
        step: function(center, body){
		if(!updateFlag){
            var acc = acceleration(center, body.position);
            body.velocity.iadd(acc);
            body.position.iadd(body.velocity);}
			else{
			body.velocity.x=velocity_x;
			body.velocity.y=velocity_y;
			body.position.x=position_x;
			body.position.y=position_y;
			updatePrevious(position_x,position_y);
			updateGPosition(g_x,g_y);
			updateGForce(g_f);
			//document.getElementById('euler').click();
			updateFlag=0;
			}
        }
    });
	
    </script>  
		

     </body></html>